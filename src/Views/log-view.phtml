<?php
Assets::setSubTitle('logs (' . $this->context->transport->name . ')');
?>

<?php if (empty($this->context->transport->lines)): ?>
	<p class="alert alert-warning">
		This log is empty. <a href="<?= \Chibi\Router::linkTo(['LogController', 'listAction']) ?>">Go back</a>
	</p>
<?php else: ?>
	<?php
	Assets::addStylesheet('logs.css');
	Assets::addScript('logs.js');
	?>

	<form method="get"
		action="<?= \Chibi\Router::linkTo(
			['LogController', 'viewAction'],
			['name' => $this->context->transport->name]) ?>">

		Keep only lines that contain:

		<input type="text"
			name="query"
			value="<?= htmlspecialchars($this->context->transport->filter) ?>"
			placeholder="any text&hellip;"/>
	</form>

	<div class="paginator-content">
		<code><?= $this->context->transport->lines ?></code>
	</div>

	<?php \Chibi\View::render('paginator', $this->context) ?>
<?php endif ?>
