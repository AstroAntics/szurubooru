<?php
$this->assets->setSubTitle('authentication form');
$this->assets->addStylesheet('auth.css');
?>

<form
	method="post"
	action="<?= \Chibi\Router::linkTo(
		['AuthController', 'loginAction']) ?>"
	class="auth">

	<p>
		If you don't have an account yet,<br/>
		<a href="<?= \Chibi\Router::linkTo(['UserController', 'registrationView']); ?>">click here</a> to create a new one.
	</p>

	<?php
		$context = new StdClass;
		$context->name = 'name';
		$context->label = 'User name';
		$this->renderExternal('input-text', $context);

		$context = new StdClass;
		$context->name = 'password';
		$context->label = 'Password';
		$this->renderExternal('input-password', $context);
	?>

	<div class="form-row">
		<label></label>
		<div class="input-wrapper">
			<button class="submit" type="submit">Log in</button>
			&nbsp;
			<input type="hidden" name="remember" value="0"/>
			<label><input type="checkbox" name="remember" value="1"/> Remember me</label>
		</div>
	</div>

	<?php $this->renderExternal('message') ?>

	<div class="form-row help">
		<label></label>
		<div>
			<p>Problems logging in?</p>
			<ul>
				<li><a href="<?= \Chibi\Router::linkTo(['UserController', 'passwordResetView']) ?>">I don't remember my password</a></li>
				<li><a href="<?= \Chibi\Router::linkTo(['UserController', 'activationView']) ?>">I haven't received activation e-mail</a></li>
				<li><a href="<?= \Chibi\Router::linkTo(['UserController', 'registrationView']) ?>">I don't have an account</a></li>
			</ul>
		</div>
	</div>
</form>
