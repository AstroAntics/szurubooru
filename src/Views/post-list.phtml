<?php
CustomAssetViewDecorator::addStylesheet('post-list.css');
CustomAssetViewDecorator::addScript('post-list.js');
?>

<?php if (isset($this->context->source) and $this->context->source == 'mass-tag' and PrivilegesHelper::confirm(Privilege::MassTag)): ?>
	<?php $this->renderFile('tag-mass-tag') ?>
<?php endif ?>


<?php if (!empty($this->context->transport->message)): ?>
	<?php $this->renderFile('message') ?>
<?php elseif (empty($this->context->transport->posts)): ?>
	<p class="alert alert-warning">No posts to show.</p>
<?php else: ?>
	<div class="posts-wrapper">
		<div class="posts paginator-content">
			<?php foreach ($this->context->transport->posts as $post): ?>
				<?php $this->context->post = $post ?>
				<?php echo $this->renderFile('post-small') ?>
			<?php endforeach ?>
		</div>
		<div class="clear"></div>
	</div>

	<?php $this->renderFile('paginator') ?>
<?php endif ?>
